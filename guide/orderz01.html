<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오더즈 빠른 주문 리뉴얼 사양서</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8fafc; color: #334155; scroll-behavior: smooth; }
        .sticky-nav { position: sticky; top: 0; z-index: 50; background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(8px); }
        .card { background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #e2e8f0; }
        .spec-label { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; margin-bottom: 4px; }
        .label-done { background: #dcfce7; color: #166534; }
        .label-pending { background: #fef9c3; color: #854d0e; }
        .label-hold { background: #fee2e2; color: #991b1b; }
        .dot-orange { width: 8px; height: 8px; background-color: #f97316; border-radius: 50%; display: inline-block; margin-right: 4px; }
        
        /* 탭 활성화 스타일 */
        .nav-link { position: relative; transition: color 0.3s ease; }
        .nav-link.active { color: #2563eb; font-weight: 700; }
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #2563eb;
        }
    </style>
</head>
<body class="pb-20">

    <!-- Header -->
    <header class="bg-white border-b border-slate-200 px-6 py-8 mb-6">
        <div class="max-w-5xl mx-auto">
            <h1 class="text-2xl font-bold text-slate-900">📦 오더즈 빠른 주문 리뉴얼 개발 통합본</h1>
            <p class="text-slate-500 mt-2">B2B 수발주 효율 극대화 및 위시리스트 기반 직통 주문 프로세스</p>
            <div class="flex gap-4 mt-6 text-sm">
                <span class="flex items-center"><span class="w-3 h-3 bg-green-500 rounded-full mr-2"></span>완료/확정</span>
                <span class="flex items-center"><span class="w-3 h-3 bg-yellow-500 rounded-full mr-2"></span>기획중/추가</span>
                <span class="flex items-center"><span class="w-3 h-3 bg-red-500 rounded-full mr-2"></span>보류</span>
            </div>
        </div>
    </header>

    <!-- Navigation (Tabs) -->
    <nav class="sticky-nav border-b border-slate-200 mb-8">
        <div class="max-w-5xl mx-auto px-6 overflow-x-auto flex whitespace-nowrap gap-8 py-3" id="main-nav">
            <a href="#section-base" class="nav-link text-slate-600 hover:text-blue-600 py-1 active">기본/인프라</a>
            <a href="#section-ux" class="nav-link text-slate-600 hover:text-blue-600 py-1">UX/슬라이딩</a>
            <a href="#section-filter" class="nav-link text-slate-600 hover:text-blue-600 py-1">필터/중복방지</a>
            <a href="#section-ui" class="nav-link text-slate-600 hover:text-blue-600 py-1">UI/목록상세</a>
            <a href="#section-edit" class="nav-link text-slate-600 hover:text-blue-600 py-1">편집/저장</a>
            <a href="#section-order" class="nav-link text-slate-600 hover:text-blue-600 py-1">주문확인</a>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto px-6 space-y-24">

        <!-- Section 1: 기본 인프라 -->
        <section id="section-base" class="scroll-mt-24">
            <h2 class="text-xl font-bold mb-4 flex items-center">
                <span class="w-1.5 h-6 bg-blue-500 rounded-full mr-3"></span>기본 인프라 및 컨셉
            </h2>
            <div class="card p-6 grid md:grid-cols-2 gap-6">
                <div>
                    <span class="spec-label label-done">서비스 컨셉</span>
                    <p class="text-slate-700 leading-relaxed">'장바구니' 단계를 노출하지 않는 <strong>위시리스트 기반 직통 주문</strong>. 수발주 속도 극대화에 초점.</p>
                </div>
                <div>
                    <span class="spec-label label-done">햄버거바</span>
                    <p class="text-slate-700">링크값 설정: <code class="bg-slate-100 px-1 rounded text-sm">https://oneapp.orderz.co.kr/</code></p>
                </div>
                <div>
                    <span class="spec-label label-hold">이탈 방지 로직</span>
                    <p class="text-slate-700">장바구니 수량 1개 이상 시 팝업 노출 기획은 개발 이슈로 <strong>현재 보류</strong>.</p>
                </div>
                <div>
                    <span class="spec-label label-done">재고 알림</span>
                    <p class="text-slate-700">"현재 보유 재고는 n개입니다. 추가 주문을 원하시면 문의 남겨주세요."</p>
                </div>
            </div>
        </section>

        <!-- Section 2: UX / Swiper / Search -->
        <section id="section-ux" class="scroll-mt-24">
            <h2 class="text-xl font-bold mb-4 flex items-center">
                <span class="w-1.5 h-6 bg-blue-500 rounded-full mr-3"></span>터치 슬라이딩 및 검색
            </h2>
            <div class="space-y-4">
                <div class="card p-6">
                    <h3 class="font-bold text-slate-800 mb-3">Swiper 탭 전환</h3>
                    <ul class="list-disc list-inside text-slate-600 space-y-2 text-sm md:text-base">
                        <li>상단 탭(단골특가, LIST 1~3)과 하단 슬라이드 완전 연동</li>
                        <li>탭 클릭 시 해당 슬라이드로 이동 (<code class="text-xs">slideTo</code>)</li>
                        <li>슬라이드 드래그 시 상단 탭 활성화 상태 동기화</li>
                        <li>상하 스크롤 시 오작동 방지를 위한 터치 감도 튜닝</li>
                    </ul>
                </div>
                <div class="card p-6">
                    <h3 class="font-bold text-slate-800 mb-3">검색 기능</h3>
                    <ul class="list-disc list-inside text-slate-600 space-y-2 text-sm md:text-base">
                        <li>대상: 단골특가 + 찜한 상품 전체</li>
                        <li>UI: 검색창 활성화 시 <code class="text-xs">search-mode-active</code> 부여로 Sticky 요소 위치 조정</li>
                        <li>한 번 터치 시 열기(자동 포커스), 다시 터치 시 닫기(초기화 및 목록 새로고침)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 3: 필터링 로직 -->
        <section id="section-filter" class="scroll-mt-24">
            <h2 class="text-xl font-bold mb-4 flex items-center">
                <span class="w-1.5 h-6 bg-blue-500 rounded-full mr-3"></span>탭별 필터링 및 중복 방지
            </h2>
            <div class="card overflow-hidden">
                <table class="w-full text-left border-collapse text-sm md:text-base">
                    <thead class="bg-slate-50 border-b border-slate-200">
                        <tr>
                            <th class="p-4 font-bold text-slate-700">탭 구분</th>
                            <th class="p-4 font-bold text-slate-700">노출 로직</th>
                            <th class="p-4 font-bold text-slate-700">정렬</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <tr>
                            <td class="p-4 font-medium">단골특가</td>
                            <td class="p-4 text-slate-600 text-sm">관심 카테고리 행사상품(테마1~5)<br><span class="text-red-500 font-bold">※ 내 리스트(1,2,3)에 이미 있는 상품 제외</span></td>
                            <td class="p-4 text-slate-500">상품 ID 순</td>
                        </tr>
                        <tr>
                            <td class="p-4 font-medium">LIST 1</td>
                            <td class="p-4 text-slate-600 text-sm">미지정 섹션 + LIST 1 지정 상품<br>(리스트 내 특가 상품은 '점' 표시)</td>
                            <td class="p-4 text-slate-500">최근찜 역순<br>개인화 순</td>
                        </tr>
                        <tr>
                            <td class="p-4 font-medium">LIST 2, 3</td>
                            <td class="p-4 text-slate-600 text-sm">해당 리스트 번호가 배정된 상품만 노출<br>(페이지별 중복 없음)</td>
                            <td class="p-4 text-slate-500">개인화 순</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Section 4: UI 상세 사양 -->
        <section id="section-ui" class="scroll-mt-24">
            <h2 class="text-xl font-bold mb-4 flex items-center">
                <span class="w-1.5 h-6 bg-blue-500 rounded-full mr-3"></span>상품 목록 UI 최종안
            </h2>
            <div class="card p-6">
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="font-bold text-slate-800 border-b pb-2 mb-4">텍스트 및 정렬</h4>
                        <ul class="space-y-3 text-sm">
                            <li class="flex justify-between"><span>유통사 닉네임</span> <span class="text-red-500">삭제</span></li>
                            <li class="flex justify-between"><span>상품명/규격</span> <span class="font-bold">기존 유지 / 굵게</span></li>
                            <li class="flex justify-between"><span>가격/배송예정일</span> <span class="text-slate-500">Bold 해제 (중간굵기)</span></li>
                            <li class="flex justify-between"><span>세로 정렬</span> <span class="text-blue-500">가격-배송-아이콘 일직선</span></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-slate-800 border-b pb-2 mb-4">특수 요소</h4>
                        <ul class="space-y-3 text-sm">
                            <li class="flex justify-between items-center"><span>단골특가 표시</span> <span><span class="dot-orange"></span>가격 좌측 오렌지 점</span></li>
                            <li class="flex justify-between"><span>정보 아이콘(i)</span> <span class="text-slate-400">Outline / #838B98</span></li>
                            <li class="flex justify-between"><span>배송일 형식</span> <span>MM-DD 배송 (내일배송 문구 삭제)</span></li>
                            <li class="flex justify-between"><span>아이콘 팝업</span> <span>텍스트-닫기(X) 수평 정렬</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: 편집 및 저장 -->
        <section id="section-edit" class="scroll-mt-24">
            <h2 class="text-xl font-bold mb-4 flex items-center">
                <span class="w-1.5 h-6 bg-blue-500 rounded-full mr-3"></span>리스트 편집 및 관리
            </h2>
            <div class="card p-6 space-y-4">
                <div class="flex flex-col md:flex-row gap-4">
                    <div class="flex-1 p-4 bg-slate-50 rounded-lg">
                        <p class="font-bold mb-2">수동 저장 로직</p>
                        <p class="text-sm text-slate-600">실시간 저장 안 됨. 반드시 하단 [저장하기] 버튼을 터치해야 일괄 적용됩니다. 하단 뒤로가기 버튼으로 취소 가능.</p>
                    </div>
                    <div class="flex-1 p-4 bg-slate-50 rounded-lg">
                        <p class="font-bold mb-2">상호작용</p>
                        <p class="text-sm text-slate-600">리스트 배정 버튼 토글 시 즉시 UI 반영. 찜 해제 시 목록에서 즉시 제거 및 홈 뱃지 업데이트.</p>
                    </div>
                </div>
                <div class="p-4 border-l-4 border-yellow-400 bg-yellow-50">
                    <p class="text-sm text-yellow-800 font-medium italic">※ 코치마크: 리스트 미지정 상품이 있을 때만 편집 아이콘 아래 "리스트를 수정해보세요!" 말풍선 노출.</p>
                </div>
            </div>
        </section>

        <!-- Section 6: 주문 확인 -->
        <section id="section-order" class="scroll-mt-24">
            <h2 class="text-xl font-bold mb-4 flex items-center">
                <span class="w-1.5 h-6 bg-blue-500 rounded-full mr-3"></span>담은 상품 확인 (Order List)
            </h2>
            <div class="card p-6">
                <div class="space-y-4">
                    <div class="flex justify-between border-b pb-2">
                        <span class="font-medium text-slate-800">그룹화 기준</span>
                        <span class="text-blue-600 font-bold">리스트별 그룹화</span>
                    </div>
                    <p class="text-sm text-slate-600">단골특가 > 미지정 상품 > LIST 1 > LIST 2 > LIST 3 순서로 정렬 노출.</p>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div class="bg-slate-100 p-3 rounded text-xs">
                            <p class="font-bold mb-1">CTR 버튼 활성화</p>
                            <p>수량 1개 이상 시 금액/수량 합계 노출</p>
                        </div>
                        <div class="bg-slate-100 p-3 rounded text-xs">
                            <p class="font-bold mb-1">섹션 헤더 UI</p>
                            <p>Bold 삭제, 상하 간격 축소 (밀집도 향상)</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Bottom Action Area (Mockup) -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-4 shadow-lg z-50">
        <div class="max-w-5xl mx-auto flex items-center justify-between">
            <div class="text-sm">
                <p class="text-slate-400">담은 상품 수</p>
                <p class="font-bold text-slate-900 text-lg">(3) 152,000원</p>
            </div>
            <button class="bg-blue-600 text-white px-8 py-3 rounded-xl font-bold shadow-lg active:scale-95 transition-transform">
                담은 상품 확인하기
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section');

            // 1. 클릭 시 스무스 스크롤 및 활성화
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    window.scrollTo({
                        top: targetSection.offsetTop - 80,
                        behavior: 'smooth'
                    });

                    // 강제 활성화 (스크롤 이벤트 전에 즉각 반응)
                    updateActiveLink(targetId.substring(1));
                });
            });

            // 2. Intersection Observer를 이용한 스크롤 연동 활성화
            const observerOptions = {
                root: null,
                rootMargin: '-10% 0px -80% 0px', // 화면 상단 부근에 왔을 때 감지
                threshold: 0
            };

            const observerCallback = (entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        updateActiveLink(entry.target.id);
                    }
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);
            sections.forEach(section => observer.observe(section));

            function updateActiveLink(id) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${id}`) {
                        link.classList.add('active');
                        // 가로 스크롤 nav인 경우 현재 활성화된 탭으로 스크롤 이동
                        link.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                    }
                });
            }
        });
    </script>
</body>
</html>
